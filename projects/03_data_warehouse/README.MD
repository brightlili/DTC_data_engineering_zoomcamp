
ğŸ—ï¸ Data Warehouse with BigQuery and dbt

This module focuses on building an efficient, production-grade Data Warehouse using Google BigQuery and dbt (Data Build Tool).

Youâ€™ll learn to:
	â€¢	Load raw data into BigQuery
	â€¢	Transform it using SQL with dbt
	â€¢	Organize datasets into staging, marts, and reporting layers

â¸»

ğŸ§° Tools & Technologies

Tool	Purpose
BigQuery	Cloud-based Data Warehouse
dbt	Data modeling, transformation (T in ELT)
GCS	Google Cloud Storage (for staging)
Terraform	Infrastructure as Code (GCP setup)


â¸»

ğŸ“‚ Folder Structure

data_warehouse/
â”‚
â”œâ”€â”€ data/                         # Source CSV/Parquet files
â”œâ”€â”€ terraform/                    # GCP infrastructure (optional)
â”œâ”€â”€ dbt/                          # dbt project directory
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ staging/
â”‚   â”‚   â””â”€â”€ marts/
â”‚   â”œâ”€â”€ dbt_project.yml
â”‚   â””â”€â”€ profiles.yml             # dbt connection config
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ requirements.txt             # dbt and BigQuery packages


â¸»

âš™ï¸ Setup Instructions

1. Enable BigQuery and GCS on GCP
	â€¢	Use Terraform or the GCP console.
	â€¢	Create a GCS bucket and a BigQuery dataset (e.g., dtc_dataset)

2. Install dbt

pip install dbt-bigquery

3. Set up dbt profile

Configure your ~/.dbt/profiles.yml file:

zoomcamp:
  target: dev
  outputs:
    dev:
      type: bigquery
      method: service-account
      project: your-gcp-project-id
      dataset: dtc_dataset
      threads: 1
      keyfile: path/to/service_account.json


â¸»

ğŸš€ Run dbt

cd dbt

# Initialize dbt
dbt debug

# Run staging models
dbt run --select staging

# Run all models
dbt run

# Check lineage graph
dbt docs generate
dbt docs serve


â¸»

ğŸ“ˆ Example Models
	â€¢	stg_yellow_tripdata.sql: Cleans and stages raw taxi trip data
	â€¢	fact_trips.sql: Aggregates trip data for reporting
	â€¢	dim_zones.sql: Enriched dimensional data for lookup

â¸»

ğŸ“š References
	â€¢	dbt Docs
	â€¢	BigQuery Docs
	â€¢	DataTalksClub Zoomcamp â€“ Module 3
